{
  "type": "component",
  "fileDependencies": [
    "./motion"
  ],
  "id": "transitions",
  "file": {
    "name": "transitions.tsx",
    "content": "import { type WithTransitionConfig, useMotionVariants } from \"@dreamy-ui/react\";\r\nimport {\r\n    AnimatePresence,\r\n    type AnimatePresenceProps,\r\n    type Variants as _Variants\r\n} from \"motion/react\";\r\nimport { forwardRef, useMemo } from \"react\";\r\nimport { css, cx } from \"styled-system/css\";\r\nimport { MotionBox, type MotionBoxProps } from \"./motion\";\r\n\r\nexport interface CollapseOptions {\r\n    /**\r\n     * If `true`, the opacity of the content will be animated\r\n     * @default true\r\n     */\r\n    animateOpacity?: boolean;\r\n    /**\r\n     * The height you want the content in its collapsed state.\r\n     * @default 0\r\n     */\r\n    startingHeight?: number | string;\r\n    /**\r\n     * The height you want the content in its expanded state.\r\n     * @default \"auto\"\r\n     */\r\n    endingHeight?: number | string;\r\n    /**\r\n     * Props to pass to the AnimatePresence component\r\n     */\r\n    animatePresenceProps?: AnimatePresenceProps;\r\n}\r\n\r\nexport type ICollapse = CollapseProps;\r\n\r\nexport interface CollapseProps extends WithTransitionConfig<MotionBoxProps>, CollapseOptions {}\r\n\r\n/**\r\n * Collapse component.\r\n *\r\n * @See Docs https://dreamy-ui.com/docs/components/transitions\r\n */\r\nexport const Collapse = forwardRef<HTMLDivElement, CollapseProps>((props, ref) => {\r\n    const {\r\n        in: isOpen,\r\n        unmountOnExit,\r\n        animateOpacity = true,\r\n        startingHeight = 0,\r\n        endingHeight = \"auto\",\r\n        style,\r\n        className,\r\n        transition,\r\n        transitionEnd,\r\n        animatePresenceProps,\r\n        ...rest\r\n    } = props;\r\n\r\n    const custom = useMemo(\r\n        () => ({\r\n            startingHeight,\r\n            endingHeight,\r\n            animateOpacity,\r\n            transition,\r\n            transitionEnd: {\r\n                enter: transitionEnd?.enter,\r\n                exit: unmountOnExit ? transitionEnd?.exit : transitionEnd?.exit\r\n            }\r\n        }),\r\n        [startingHeight, endingHeight, animateOpacity, transition, transitionEnd, unmountOnExit]\r\n    );\r\n\r\n    const {\r\n        collapse: { default: variants }\r\n    } = useMotionVariants();\r\n\r\n    const show = useMemo(() => (unmountOnExit ? isOpen : true), [unmountOnExit, isOpen]);\r\n    const animate = useMemo(\r\n        () => (isOpen || unmountOnExit ? \"initial\" : \"exit\"),\r\n        [isOpen, unmountOnExit]\r\n    );\r\n\r\n    return (\r\n        <AnimatePresence\r\n            initial={false}\r\n            custom={custom}\r\n            {...animatePresenceProps}\r\n        >\r\n            {show && (\r\n                <MotionBox\r\n                    ref={ref}\r\n                    custom={custom}\r\n                    variants={variants as _Variants}\r\n                    initial={unmountOnExit ? \"exit\" : false}\r\n                    animate={animate}\r\n                    exit=\"exit\"\r\n                    {...rest}\r\n                    className={cx(\r\n                        css({\r\n                            overflow: \"hidden\",\r\n                            display: \"block\"\r\n                        }),\r\n                        className\r\n                    )}\r\n                />\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n});\r\n\r\nCollapse.displayName = \"Collapse\";\r\n"
  },
  "component": "Transitions",
  "hasRecipe": false,
  "hasPattern": false
}