{
  "type": "component",
  "fileDependencies": [
    "./box",
    "./close-button",
    "./motion"
  ],
  "id": "action-bar",
  "file": {
    "name": "action-bar.tsx",
    "content": "\"use client\";\n\nimport {\n    type UseControllableReturn,\n    useControllable,\n    type useControllableProps\n} from \"@dreamy-ui/react\";\nimport { AnimatePresence } from \"motion/react\";\nimport { createContext, forwardRef, useCallback, useContext } from \"react\";\nimport { type HTMLDreamyProps, createStyleContext, dreamy } from \"styled-system/jsx\";\nimport type { ActionBarVariantProps } from \"styled-system/recipes\";\nimport { actionBar } from \"styled-system/recipes\";\nimport { Box, type BoxProps } from \"./box\";\nimport { CloseButton, type CloseButtonProps } from \"./close-button\";\nimport { MotionBox, type MotionBoxProps } from \"./motion\";\n\nconst { withProvider, withContext } = createStyleContext(actionBar);\n\nconst ActionBarContext = createContext<UseControllableReturn | null>(null);\n\nfunction useActionBarContext() {\n    const context = useContext(ActionBarContext);\n    if (!context) {\n        throw new Error(\"useActionBarContext must be used within ActionBar.Root\");\n    }\n    return context;\n}\n\nexport interface ActionBarRootProps extends BoxProps, ActionBarVariantProps, useControllableProps {}\n\nconst ActionBarRoot = withProvider(\n    forwardRef<HTMLDivElement, ActionBarRootProps>(function ActionBarRoot(props, ref) {\n        const { children, isOpen, defaultIsOpen, onOpen, onClose, ...rest } = props;\n        const actionBarProps = useControllable({\n            isOpen,\n            defaultIsOpen,\n            onOpen,\n            onClose\n        });\n\n        return (\n            <ActionBarContext.Provider value={actionBarProps}>\n                <AnimatePresence>\n                    {isOpen && (\n                        <Box\n                            data-state={actionBarProps.isOpen ? \"open\" : \"closed\"}\n                            ref={ref}\n                            {...rest}\n                        >\n                            {children}\n                        </Box>\n                    )}\n                </AnimatePresence>\n            </ActionBarContext.Provider>\n        );\n    }),\n    \"root\"\n);\n\nexport interface ActionBarContentProps extends MotionBoxProps {}\n\nconst ActionBarContent = withContext(\n    forwardRef<HTMLDivElement, ActionBarContentProps>(function ActionBarContent(props, ref) {\n        const { children, ...rest } = props;\n        const { isOpen } = useActionBarContext();\n\n        return (\n            <AnimatePresence propagate>\n                {isOpen && (\n                    <MotionBox\n                        animate={{ y: 0, opacity: 1 }}\n                        aria-label=\"Action bar\"\n                        data-state={isOpen ? \"open\" : \"closed\"}\n                        exit={{ y: 100, opacity: 0 }}\n                        initial={{ y: 100, opacity: 0 }}\n                        ref={ref}\n                        role=\"dialog\"\n                        {...rest}\n                    >\n                        {children}\n                    </MotionBox>\n                )}\n            </AnimatePresence>\n        );\n    }),\n    \"content\"\n);\n\nexport interface ActionBarSelectionTriggerProps extends HTMLDreamyProps<\"span\"> {}\n\nconst ActionBarSelectionTrigger = withContext(\n    forwardRef<HTMLSpanElement, ActionBarSelectionTriggerProps>(\n        function ActionBarSelectionTrigger(props, ref) {\n            const { children, ...rest } = props;\n            const { isOpen } = useActionBarContext();\n\n            return (\n                <dreamy.span\n                    data-state={isOpen ? \"open\" : \"closed\"}\n                    ref={ref}\n                    {...rest}\n                >\n                    {children}\n                </dreamy.span>\n            );\n        }\n    ),\n    \"selectionTrigger\"\n);\n\nexport interface ActionBarSeparatorProps extends HTMLDreamyProps<\"div\"> {}\n\nconst ActionBarSeparator = withContext(\n    forwardRef<HTMLDivElement, ActionBarSeparatorProps>(function ActionBarSeparator(props, ref) {\n        return (\n            <Box\n                aria-orientation=\"vertical\"\n                ref={ref}\n                role=\"separator\"\n                {...props}\n            />\n        );\n    }),\n    \"separator\"\n);\n\nexport interface ActionBarCloseTriggerProps extends CloseButtonProps {}\n\nconst ActionBarCloseTrigger = withContext(\n    forwardRef<HTMLButtonElement, ActionBarCloseTriggerProps>(\n        function ActionBarCloseTrigger(props, ref) {\n            const { children, onClick, ...rest } = props;\n            const { onClose } = useActionBarContext();\n\n            const handleClick = useCallback(\n                (event: React.MouseEvent<HTMLButtonElement>) => {\n                    onClick?.(event);\n                    onClose();\n                },\n                [onClick, onClose]\n            );\n\n            return (\n                <CloseButton\n                    aria-label=\"Close action bar\"\n                    onClick={handleClick}\n                    ref={ref}\n                    {...rest}\n                />\n            );\n        }\n    ),\n    \"closeTrigger\"\n);\n\nexport namespace ActionBar {\n    export const Root = ActionBarRoot;\n    export const Content = ActionBarContent;\n    export const SelectionTrigger = ActionBarSelectionTrigger;\n    export const Separator = ActionBarSeparator;\n    export const CloseTrigger = ActionBarCloseTrigger;\n}\n"
  },
  "component": "ActionBar",
  "hasRecipe": true,
  "hasPattern": false,
  "recipeIds": [
    "action-bar"
  ]
}