{
  "type": "component",
  "fileDependencies": [
    "./box",
    "./close-button",
    "./motion"
  ],
  "id": "action-bar",
  "file": {
    "name": "action-bar.tsx",
    "content": "\"use client\";\r\n\r\nimport {\r\n\ttype UseControllableReturn,\r\n\tuseControllable,\r\n\ttype useControllableProps,\r\n\tuseMotionVariants\r\n} from \"@dreamy-ui/react\";\r\nimport { AnimatePresence } from \"motion/react\";\r\nimport { createContext, forwardRef, useCallback, useContext } from \"react\";\r\nimport { type HTMLDreamyProps, createStyleContext, dreamy } from \"styled-system/jsx\";\r\nimport type { ActionBarVariantProps } from \"styled-system/recipes\";\r\nimport { actionBar } from \"styled-system/recipes\";\r\nimport { Box, type BoxProps } from \"./box\";\r\nimport { CloseButton, type CloseButtonProps } from \"./close-button\";\r\nimport { MotionBox, type MotionBoxProps } from \"./motion\";\r\n\r\nconst { withProvider, withContext } = createStyleContext(actionBar);\r\n\r\nconst ActionBarContext = createContext<UseControllableReturn | null>(null);\r\n\r\nfunction useActionBarContext() {\r\n\tconst context = useContext(ActionBarContext);\r\n\tif (!context) {\r\n\t\tthrow new Error(\"useActionBarContext must be used within ActionBar.Root\");\r\n\t}\r\n\treturn context;\r\n}\r\n\r\nexport interface ActionBarRootProps extends BoxProps, ActionBarVariantProps, useControllableProps {}\r\n\r\nconst ActionBarRoot = withProvider(\r\n\tforwardRef<HTMLDivElement, ActionBarRootProps>(function ActionBarRoot(props, ref) {\r\n\t\tconst { children, isOpen, defaultIsOpen, onOpen, onClose, ...rest } = props;\r\n\t\tconst actionBarProps = useControllable({\r\n\t\t\tisOpen,\r\n\t\t\tdefaultIsOpen,\r\n\t\t\tonOpen,\r\n\t\t\tonClose\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<ActionBarContext.Provider value={actionBarProps}>\r\n\t\t\t\t<AnimatePresence>\r\n\t\t\t\t\t{isOpen && (\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tdata-state={actionBarProps.isOpen ? \"open\" : \"closed\"}\r\n\t\t\t\t\t\t\tref={ref}\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{children}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</AnimatePresence>\r\n\t\t\t</ActionBarContext.Provider>\r\n\t\t);\r\n\t}),\r\n\t\"root\"\r\n);\r\n\r\nexport interface ActionBarContentProps extends MotionBoxProps {}\r\n\r\nconst ActionBarContent = withContext(\r\n\tforwardRef<HTMLDivElement, ActionBarContentProps>(function ActionBarContent(props, ref) {\r\n\t\tconst { children, ...rest } = props;\r\n\t\tconst { isOpen } = useActionBarContext();\r\n\r\n\t\tconst {\r\n\t\t\tactionBar: { default: variants }\r\n\t\t} = useMotionVariants();\r\n\r\n\t\treturn (\r\n\t\t\t<AnimatePresence propagate>\r\n\t\t\t\t{isOpen && (\r\n\t\t\t\t\t<MotionBox\r\n\t\t\t\t\t\tanimate=\"animate\"\r\n\t\t\t\t\t\taria-label=\"Action bar\"\r\n\t\t\t\t\t\tdata-state={isOpen ? \"open\" : \"closed\"}\r\n\t\t\t\t\t\texit=\"exit\"\r\n\t\t\t\t\t\tinitial=\"initial\"\r\n\t\t\t\t\t\tref={ref}\r\n\t\t\t\t\t\trole=\"dialog\"\r\n\t\t\t\t\t\tvariants={variants}\r\n\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{children}\r\n\t\t\t\t\t</MotionBox>\r\n\t\t\t\t)}\r\n\t\t\t</AnimatePresence>\r\n\t\t);\r\n\t}),\r\n\t\"content\"\r\n);\r\n\r\nexport interface ActionBarSelectionTriggerProps extends HTMLDreamyProps<\"span\"> {}\r\n\r\nconst ActionBarSelectionTrigger = withContext(\r\n\tforwardRef<HTMLSpanElement, ActionBarSelectionTriggerProps>(\r\n\t\tfunction ActionBarSelectionTrigger(props, ref) {\r\n\t\t\tconst { children, ...rest } = props;\r\n\t\t\tconst { isOpen } = useActionBarContext();\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<dreamy.span data-state={isOpen ? \"open\" : \"closed\"} ref={ref} {...rest}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</dreamy.span>\r\n\t\t\t);\r\n\t\t}\r\n\t),\r\n\t\"selectionTrigger\"\r\n);\r\n\r\nexport interface ActionBarSeparatorProps extends HTMLDreamyProps<\"div\"> {}\r\n\r\nconst ActionBarSeparator = withContext(\r\n\tforwardRef<HTMLDivElement, ActionBarSeparatorProps>(function ActionBarSeparator(props, ref) {\r\n\t\treturn <Box aria-orientation=\"vertical\" ref={ref} role=\"separator\" {...props} />;\r\n\t}),\r\n\t\"separator\"\r\n);\r\n\r\nexport interface ActionBarCloseTriggerProps extends CloseButtonProps {}\r\n\r\nconst ActionBarCloseTrigger = withContext(\r\n\tforwardRef<HTMLButtonElement, ActionBarCloseTriggerProps>(\r\n\t\tfunction ActionBarCloseTrigger(props, ref) {\r\n\t\t\tconst { children, onClick, ...rest } = props;\r\n\t\t\tconst { onClose } = useActionBarContext();\r\n\r\n\t\t\tconst handleClick = useCallback(\r\n\t\t\t\t(event: React.MouseEvent<HTMLButtonElement>) => {\r\n\t\t\t\t\tonClick?.(event);\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t},\r\n\t\t\t\t[onClick, onClose]\r\n\t\t\t);\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<CloseButton\r\n\t\t\t\t\taria-label=\"Close action bar\"\r\n\t\t\t\t\tonClick={handleClick}\r\n\t\t\t\t\tref={ref}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t}\r\n\t),\r\n\t\"closeTrigger\"\r\n);\r\n\r\nexport namespace ActionBar {\r\n\texport const Root = ActionBarRoot;\r\n\texport const Content = ActionBarContent;\r\n\texport const SelectionTrigger = ActionBarSelectionTrigger;\r\n\texport const Separator = ActionBarSeparator;\r\n\texport const CloseTrigger = ActionBarCloseTrigger;\r\n}\r\n"
  },
  "component": "ActionBar",
  "hasRecipe": true,
  "hasPattern": false,
  "recipeIds": [
    "action-bar"
  ]
}