{
  "type": "component",
  "fileDependencies": [
    "./box",
    "./close-button",
    "./factory",
    "./motion"
  ],
  "id": "action-bar",
  "file": {
    "name": "action-bar.tsx",
    "content": "\"use client\";\r\n\r\nimport { type UseActionBarProps, type UseActionBarReturn, useActionBar } from \"@dreamy-ui/react\";\r\nimport { AnimatePresence } from \"motion/react\";\r\nimport { createContext, forwardRef, useCallback, useContext } from \"react\";\r\nimport { createStyleContext } from \"styled-system/jsx\";\r\nimport type { ActionBarVariantProps } from \"styled-system/recipes\";\r\nimport { actionBar } from \"styled-system/recipes\";\r\nimport { Box, type BoxProps } from \"./box\";\r\nimport { CloseButton, type CloseButtonProps } from \"./close-button\";\r\nimport { type HTMLDreamyProps, dreamy } from \"./factory\";\r\nimport { MotionBox, type MotionBoxProps } from \"./motion\";\r\n\r\nconst { withProvider, withContext } = createStyleContext(actionBar);\r\n\r\nconst ActionBarContext = createContext<UseActionBarReturn | null>(null);\r\n\r\nfunction useActionBarContext() {\r\n    const context = useContext(ActionBarContext);\r\n    if (!context) {\r\n        throw new Error(\"useActionBarContext must be used within ActionBar.Root\");\r\n    }\r\n    return context;\r\n}\r\n\r\nexport interface ActionBarRootProps extends BoxProps, ActionBarVariantProps, UseActionBarProps {}\r\n\r\nconst ActionBarRoot = withProvider(\r\n    forwardRef<HTMLDivElement, ActionBarRootProps>(function ActionBarRoot(props, ref) {\r\n        const { children, isOpen, defaultIsOpen, onOpen, onClose, ...rest } = props;\r\n        const actionBarProps = useActionBar({\r\n            isOpen,\r\n            defaultIsOpen,\r\n            onOpen,\r\n            onClose\r\n        });\r\n\r\n        return (\r\n            <ActionBarContext.Provider value={actionBarProps}>\r\n                <AnimatePresence>\r\n                    {isOpen && (\r\n                        <Box\r\n                            ref={ref}\r\n                            data-state={actionBarProps.isOpen ? \"open\" : \"closed\"}\r\n                            {...rest}\r\n                        >\r\n                            {children}\r\n                        </Box>\r\n                    )}\r\n                </AnimatePresence>\r\n            </ActionBarContext.Provider>\r\n        );\r\n    }),\r\n    \"root\"\r\n);\r\n\r\nexport interface ActionBarContentProps extends MotionBoxProps {}\r\n\r\nconst ActionBarContent = withContext(\r\n    forwardRef<HTMLDivElement, ActionBarContentProps>(function ActionBarContent(props, ref) {\r\n        const { children, ...rest } = props;\r\n        const { isOpen } = useActionBarContext();\r\n\r\n        return (\r\n            <AnimatePresence propagate>\r\n                {isOpen && (\r\n                    <MotionBox\r\n                        ref={ref}\r\n                        role=\"dialog\"\r\n                        aria-label=\"Action bar\"\r\n                        data-state={isOpen ? \"open\" : \"closed\"}\r\n                        initial={{ y: 100, opacity: 0 }}\r\n                        animate={{ y: 0, opacity: 1 }}\r\n                        exit={{ y: 100, opacity: 0 }}\r\n                        {...rest}\r\n                    >\r\n                        {children}\r\n                    </MotionBox>\r\n                )}\r\n            </AnimatePresence>\r\n        );\r\n    }),\r\n    \"content\"\r\n);\r\n\r\nexport interface ActionBarSelectionTriggerProps extends HTMLDreamyProps<\"span\"> {}\r\n\r\nconst ActionBarSelectionTrigger = withContext(\r\n    forwardRef<HTMLSpanElement, ActionBarSelectionTriggerProps>(\r\n        function ActionBarSelectionTrigger(props, ref) {\r\n            const { children, ...rest } = props;\r\n            const { isOpen } = useActionBarContext();\r\n\r\n            return (\r\n                <dreamy.span\r\n                    ref={ref}\r\n                    data-state={isOpen ? \"open\" : \"closed\"}\r\n                    {...rest}\r\n                >\r\n                    {children}\r\n                </dreamy.span>\r\n            );\r\n        }\r\n    ),\r\n    \"selectionTrigger\"\r\n);\r\n\r\nexport interface ActionBarSeparatorProps extends HTMLDreamyProps<\"div\"> {}\r\n\r\nconst ActionBarSeparator = withContext(\r\n    forwardRef<HTMLDivElement, ActionBarSeparatorProps>(function ActionBarSeparator(props, ref) {\r\n        return (\r\n            <Box\r\n                ref={ref}\r\n                role=\"separator\"\r\n                aria-orientation=\"vertical\"\r\n                {...props}\r\n            />\r\n        );\r\n    }),\r\n    \"separator\"\r\n);\r\n\r\nexport interface ActionBarCloseTriggerProps extends CloseButtonProps {}\r\n\r\nconst ActionBarCloseTrigger = withContext(\r\n    forwardRef<HTMLButtonElement, ActionBarCloseTriggerProps>(\r\n        function ActionBarCloseTrigger(props, ref) {\r\n            const { children, onClick, ...rest } = props;\r\n            const { onClose } = useActionBarContext();\r\n\r\n            const handleClick = useCallback(\r\n                (event: React.MouseEvent<HTMLButtonElement>) => {\r\n                    onClick?.(event);\r\n                    onClose();\r\n                },\r\n                [onClick, onClose]\r\n            );\r\n\r\n            return (\r\n                <CloseButton\r\n                    ref={ref}\r\n                    aria-label=\"Close action bar\"\r\n                    onClick={handleClick}\r\n                    {...rest}\r\n                />\r\n            );\r\n        }\r\n    ),\r\n    \"closeTrigger\"\r\n);\r\n\r\nexport namespace ActionBar {\r\n    export const Root = ActionBarRoot;\r\n    export const Content = ActionBarContent;\r\n    export const SelectionTrigger = ActionBarSelectionTrigger;\r\n    export const Separator = ActionBarSeparator;\r\n    export const CloseTrigger = ActionBarCloseTrigger;\r\n}\r\n"
  },
  "component": "ActionBar",
  "hasRecipe": true,
  "hasPattern": false,
  "recipeIds": [
    "action-bar"
  ]
}