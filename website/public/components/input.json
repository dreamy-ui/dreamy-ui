{
  "type": "component",
  "npmDependencies": [],
  "fileDependencies": [
    "./box",
    "./flex"
  ],
  "id": "input",
  "file": {
    "name": "input.tsx",
    "content": "\"use client\";\n\nimport { type UserFeedbackProps, callAllHandlers, createContext, useField } from \"@dreamy-ui/react\";\nimport type React from \"react\";\nimport { forwardRef, useMemo } from \"react\";\nimport { type HTMLDreamyProps, dreamy, splitCssProps } from \"styled-system/jsx\";\nimport { type InputVariantProps, input } from \"styled-system/recipes\";\nimport { Box, type BoxProps } from \"./box\";\nimport { Flex, type FlexProps } from \"./flex\";\n\nexport interface InputProps\n    extends Omit<HTMLDreamyProps<\"input\">, \"size\">,\n    InputVariantProps,\n    UserFeedbackProps {\n    /**\n     * The callback function that is called when the input value changes.\n     */\n    onChangeValue?: (value: string) => void;\n}\n\nconst StyledInput = dreamy(\"input\", input);\n\nconst [InputGroupProvider, useInputGroup] = createContext<InputGroupProviderContext>({\n    strict: false,\n    name: \"InputGroupContext\"\n});\n\n/**\n * Input component\n *\n * @See Docs https://dreamy-ui.com/docs/components/input\n */\nexport const Input = forwardRef<HTMLInputElement, InputProps>((props, ref) => {\n    const inputGroup = useInputGroup();\n    const field = useField(\n        useMemo(() => {\n            return {\n                ...inputGroup,\n                ...props\n            };\n        }, [inputGroup, props])\n    );\n\n    return (\n        <StyledInput\n            ref={ref}\n            {...field}\n            onChange={callAllHandlers(props.onChange, (e: React.ChangeEvent<HTMLInputElement>) =>\n                props.onChangeValue?.(e.target.value)\n            )}\n        />\n    );\n});\n\ninterface InputGroupProviderContext extends InputVariantProps, UserFeedbackProps { }\n\nexport const InputElement = forwardRef<HTMLDivElement, FlexProps>(\n    function InputElement(props, ref) {\n        return (\n            <Flex\n                bg={\"alpha.50\"}\n                border=\"1px solid\"\n                borderColor=\"border\"\n                center\n                h=\"full\"\n                px={4}\n                ref={ref}\n                {...props}\n            />\n        );\n    }\n);\n\nexport interface InputGroupProps extends InputGroupProviderContext, BoxProps {\n    leftElement?: React.ReactNode;\n    rightElement?: React.ReactNode;\n}\n\nexport const InputGroup = forwardRef<HTMLDivElement, InputGroupProps>(\n    function InputGroup(props, ref) {\n        const [cssProps, { children, ...rest }] = splitCssProps(props);\n\n        return (\n            <InputGroupProvider value={rest}>\n                <Box\n                    data-input-group={\"true\"}\n                    ref={ref}\n                    {...cssProps}\n                    css={{\n                        \"& > input, & > textarea\": {\n                            ...(props.leftElement ? { borderStartRadius: \"none\" } : {}),\n                            ...(props.rightElement ? { borderEndRadius: \"none\" } : {})\n                        },\n                        ...cssProps.css\n                    }}\n                >\n                    {props.leftElement && (\n                        <InputElement\n                            borderRight={\"none\"}\n                            borderStartRadius=\"l2\"\n                        >\n                            {props.leftElement}\n                        </InputElement>\n                    )}\n                    {props.children}\n                    {props.rightElement && (\n                        <InputElement\n                            borderEndRadius=\"l2\"\n                            borderLeft={\"none\"}\n                        >\n                            {props.rightElement}\n                        </InputElement>\n                    )}\n                </Box>\n            </InputGroupProvider>\n        );\n    }\n);\n\nexport interface InputAddonProps extends FlexProps { }\n\nconst InputAddon = forwardRef<HTMLDivElement, InputAddonProps>(function InputAddon(props, ref) {\n    return (\n        <Flex\n            ref={ref}\n            {...props}\n            style={{\n                position: \"absolute\",\n                top: \"50%\",\n                transform: \"translateY(-50%)\",\n                flex: \"0 0 auto\",\n                width: \"2.5rem\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                whiteSpace: \"nowrap\",\n                ...props.style\n            }}\n        />\n    );\n});\n\nexport const InputLeftAddon = forwardRef<HTMLDivElement, InputAddonProps>(\n    function InputLeftAddon(props, ref) {\n        return (\n            <InputAddon\n                left={0}\n                ref={ref}\n                {...props}\n            />\n        );\n    }\n);\n\nexport const InputRightAddon = forwardRef<HTMLDivElement, InputAddonProps>(\n    function InputRightAddon(props, ref) {\n        return (\n            <InputAddon\n                ref={ref}\n                right={0}\n                {...props}\n            />\n        );\n    }\n);\n"
  },
  "component": "Input",
  "hasRecipe": true,
  "hasPattern": false,
  "recipeIds": [
    "input"
  ]
}