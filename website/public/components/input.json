{
  "type": "component",
  "fileDependencies": [
    "./box",
    "./flex"
  ],
  "id": "input",
  "file": {
    "name": "input.tsx",
    "content": "\"use client\";\r\n\r\nimport { type UserFeedbackProps, callAllHandlers, createContext, useField } from \"@dreamy-ui/react\";\r\nimport type React from \"react\";\r\nimport { forwardRef, useMemo } from \"react\";\r\nimport { type HTMLDreamyProps, dreamy, splitCssProps } from \"styled-system/jsx\";\r\nimport { type InputVariantProps, input } from \"styled-system/recipes\";\r\nimport { Box, type BoxProps } from \"./box\";\r\nimport { Flex, type FlexProps } from \"./flex\";\r\n\r\nexport interface InputProps\r\n    extends Omit<HTMLDreamyProps<\"input\">, \"size\">,\r\n        InputVariantProps,\r\n        UserFeedbackProps {\r\n    /**\r\n     * The callback function that is called when the input value changes.\r\n     */\r\n    onChangeValue?: (value: string) => void;\r\n}\r\n\r\nconst StyledInput = dreamy(\"input\", input);\r\n\r\nexport const [InputGroupProvider, useInputGroup] = createContext<InputGroupProviderContext>({\r\n    strict: false,\r\n    name: \"InputGroupContext\"\r\n});\r\n\r\n/**\r\n * Input component\r\n *\r\n * @See Docs https://dreamy-ui.com/docs/components/input\r\n */\r\nexport const Input = forwardRef<HTMLInputElement, InputProps>((props, ref) => {\r\n    const inputGroup = useInputGroup();\r\n    const field = useField(\r\n        useMemo(() => {\r\n            return {\r\n                ...inputGroup,\r\n                ...props\r\n            };\r\n        }, [inputGroup, props])\r\n    );\r\n\r\n    return (\r\n        <StyledInput\r\n            ref={ref}\r\n            {...field}\r\n            onChange={callAllHandlers(props.onChange, (e: React.ChangeEvent<HTMLInputElement>) =>\r\n                props.onChangeValue?.(e.target.value)\r\n            )}\r\n        />\r\n    );\r\n});\r\n\r\ninterface InputGroupProviderContext extends InputVariantProps, UserFeedbackProps {}\r\n\r\nexport const InputElement = forwardRef<HTMLDivElement, FlexProps>(\r\n    function InputElement(props, ref) {\r\n        return (\r\n            <Flex\r\n                bg={\"alpha.50\"}\r\n                border=\"1px solid\"\r\n                borderColor=\"border\"\r\n                center\r\n                h=\"full\"\r\n                px={4}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        );\r\n    }\r\n);\r\n\r\nexport interface InputGroupProps extends InputGroupProviderContext, BoxProps {\r\n    leftElement?: React.ReactNode;\r\n    rightElement?: React.ReactNode;\r\n}\r\n\r\nexport const InputGroup = forwardRef<HTMLDivElement, InputGroupProps>(\r\n    function InputGroup(props, ref) {\r\n        const [cssProps, { children, ...rest }] = splitCssProps(props);\r\n\r\n        return (\r\n            <InputGroupProvider value={rest}>\r\n                <Box\r\n                    data-input-group={\"true\"}\r\n                    ref={ref}\r\n                    {...cssProps}\r\n                    css={{\r\n                        \"& > input, & > textarea\": {\r\n                            ...(props.leftElement ? { borderStartRadius: \"none\" } : {}),\r\n                            ...(props.rightElement ? { borderEndRadius: \"none\" } : {})\r\n                        },\r\n                        ...cssProps.css\r\n                    }}\r\n                >\r\n                    {props.leftElement && (\r\n                        <InputElement\r\n                            borderRight={\"none\"}\r\n                            borderStartRadius=\"l2\"\r\n                        >\r\n                            {props.leftElement}\r\n                        </InputElement>\r\n                    )}\r\n                    {props.children}\r\n                    {props.rightElement && (\r\n                        <InputElement\r\n                            borderEndRadius=\"l2\"\r\n                            borderLeft={\"none\"}\r\n                        >\r\n                            {props.rightElement}\r\n                        </InputElement>\r\n                    )}\r\n                </Box>\r\n            </InputGroupProvider>\r\n        );\r\n    }\r\n);\r\n\r\nexport interface InputAddonProps extends FlexProps {}\r\n\r\nconst InputAddon = forwardRef<HTMLDivElement, InputAddonProps>(function InputAddon(props, ref) {\r\n    return (\r\n        <Flex\r\n            ref={ref}\r\n            {...props}\r\n            style={{\r\n                position: \"absolute\",\r\n                top: \"50%\",\r\n                transform: \"translateY(-50%)\",\r\n                flex: \"0 0 auto\",\r\n                width: \"2.5rem\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                whiteSpace: \"nowrap\",\r\n                ...props.style\r\n            }}\r\n        />\r\n    );\r\n});\r\n\r\nexport const InputLeftAddon = forwardRef<HTMLDivElement, InputAddonProps>(\r\n    function InputLeftAddon(props, ref) {\r\n        return (\r\n            <InputAddon\r\n                left={0}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        );\r\n    }\r\n);\r\n\r\nexport const InputRightAddon = forwardRef<HTMLDivElement, InputAddonProps>(\r\n    function InputRightAddon(props, ref) {\r\n        return (\r\n            <InputAddon\r\n                ref={ref}\r\n                right={0}\r\n                {...props}\r\n            />\r\n        );\r\n    }\r\n);\r\n"
  },
  "component": "Input",
  "hasRecipe": true,
  "hasPattern": false,
  "recipeIds": [
    "input"
  ]
}