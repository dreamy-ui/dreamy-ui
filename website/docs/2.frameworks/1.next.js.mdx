---
title: Using Next.js
---

# Using Dreamy UI with Next.js

Set up Dreamy UI in your Next.js project.

## 1. Follow the Panda CSS installation guide

Follow the [Panda CSS installation guide](https://panda-css.com/docs/installation/nextjs) to set up Panda CSS in your Next.js project.

## 2. Install Dreamy UI

Install Dreamy UI in your project:

```bash
pnpm add @dreamy-ui/react @dreamy-ui/panda-preset motion
```

## 2. Configure panda.config.ts

Configure environment and panda presets in your `panda.config.ts` file:

```ts {1, 10-16}
import createDreamyPreset, { dreamyPlugin } from "@dreamy-ui/panda-preset";
import { defineConfig } from "@pandacss/dev";

export default defineConfig({
	...,
	preflight: true,
    jsxFramework: "react",
    jsxStyleProps: "all",
    outExtension: "js",
    include: [
        "./src/**/*.{js,jsx,ts,tsx}",
    ],
    presets: [
        createDreamyPreset()
    ],
    plugins: [dreamyPlugin],
    theme: {
		extend: {}
	},
	globalCss: {
		extend: {}
	},
	staticCss: {
		extend: {}
	}
});
```

## 3. Add styled-system to tsconfig.json

Add the following configuration to your `tsconfig.json` file:

```json {6, 13-14}
{
	"compilerOptions": {
		...
		"paths": {
			"@/*": ["./components/ui/*"],
			"styled-system/*": ["./styled-system/*"]
		}
	},
	"include": [
		"next-env.d.ts",
		"**/*.ts",
		"**/*.tsx",
		"styled-system/**/*",
		".next/types/**/*.ts"
	],
	"exclude": ["node_modules"]
}
```

**Note:** Next.js requires both the `styled-system/*` path alias AND the include entry for proper type resolution. The CLI automatically configures both for you.

{/* Add the following alias to your `next.config.ts` file:

```ts {2,5-12}
import type { NextConfig } from "next";
import { resolve } from "node:path";

export default {
    webpack: (config) => {
        config.resolve.alias = {
            ...config.resolve.alias,
            "styled-system": resolve(__dirname, "./styled-system"),
        };

        return config;
    }
} satisfies NextConfig;
``` */}

## 4. Add Dreamy Provider

After configuring Panda CSS, finally we can add the main Dreamy Provider to your `app/layout.tsx`.

First create a `dreamy-provider.tsx` file in `components/dreamy-provider.tsx` (or `src/components/dreamy-provider.tsx` if using src directory):

```tsx
"use client";

import { DreamyProvider as BaseDreamyProvider } from "@dreamy-ui/react";
import type { ColorMode } from "@dreamy-ui/react";

const domMax = () => import("motion/react").then((mod) => mod.domMax);

interface DreamyProviderProps {
    children: React.ReactNode;
    colorMode?: ColorMode;
}

export function DreamyProvider({ children, colorMode }: DreamyProviderProps) {
    return (
        <BaseDreamyProvider 
            motionFeatures={domMax} 
            motionStrict
            colorMode={colorMode}
            useUserPreferenceColorMode
        >
            {children}
        </BaseDreamyProvider>
    );
}
```

Next, add the `DreamyProvider` component to your `app/layout.tsx` file.

This way we pass the color mode from server-side cookies so the initial document request will have the correct user color mode without flashing:

```tsx {2-3, 12, 15-19}
...
import { DreamyProvider } from "@/components/dreamy-provider";
import { getSSRColorMode } from "@dreamy-ui/react/rsc";
import { cookies } from "next/headers";

...

export default async function RootLayout({
    children
}: Readonly<{
    children: React.ReactNode;
}>) {
    const colorMode = getSSRColorMode((await cookies()).toString());

    return (
        <html lang="en">
            <body>
                <DreamyProvider colorMode={colorMode}>{children}</DreamyProvider>
            </body>
        </html>
    );
}

```

## 5. Start using Dreamy UI

Let's write some Dreamy UI in `app/page.tsx`.

```tsx {1, 4}
import { Button } from "@dreamy-ui/react";

export default function Home() {
    return <Button>Hello World</Button>;
}
```
